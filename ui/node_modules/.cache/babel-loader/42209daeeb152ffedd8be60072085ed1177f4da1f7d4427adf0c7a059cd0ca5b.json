{"ast":null,"code":"// Utility functions for trip management\n\n// Common location keywords to extract from prompts\nconst locationKeywords = ['tokyo', 'japan', 'paris', 'france', 'london', 'uk', 'england', 'new york', 'nyc', 'bali', 'indonesia', 'sydney', 'australia', 'dubai', 'uae', 'singapore', 'bangkok', 'thailand', 'seoul', 'korea', 'hong kong', 'beijing', 'china', 'rome', 'italy', 'barcelona', 'spain', 'amsterdam', 'netherlands', 'berlin', 'germany', 'vienna', 'austria', 'prague', 'czech', 'istanbul', 'turkey', 'cairo', 'egypt', 'mumbai', 'india', 'rio', 'brazil', 'cape town', 'south africa', 'maldives', 'hawaii', 'santorini', 'greece', 'iceland', 'switzerland', 'norway', 'morocco', 'phuket', 'lisbon', 'portugal', 'kyoto', 'budapest', 'hungary', 'edinburgh', 'scotland', 'stockholm', 'sweden', 'copenhagen', 'denmark', 'new zealand', 'machu picchu', 'peru', 'mexico', 'canada', 'vancouver', 'toronto', 'montreal'];\n\n// Extract location from prompt text\nexport const extractLocation = prompt => {\n  if (!prompt) return 'Unknown Destination';\n  const lowerPrompt = prompt.toLowerCase();\n\n  // Try to find location keywords\n  for (const keyword of locationKeywords) {\n    if (lowerPrompt.includes(keyword)) {\n      // Capitalize first letter of each word\n      return keyword.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');\n    }\n  }\n\n  // Try to extract location from common patterns\n  const patterns = [/(?:to|in|visit|travel to|going to|planning.*?to)\\s+([A-Z][a-z]+(?:\\s+[A-Z][a-z]+)*)/gi, /([A-Z][a-z]+(?:\\s+[A-Z][a-z]+)*),?\\s+(?:Japan|France|USA|UK|Italy|Spain|Germany|etc\\.?)/gi];\n  for (const pattern of patterns) {\n    const matches = prompt.match(pattern);\n    if (matches && matches.length > 0) {\n      const location = matches[0].replace(/(?:to|in|visit|travel to|going to|planning.*?to)\\s+/gi, '').trim();\n      if (location.length > 2 && location.length < 50) {\n        return location;\n      }\n    }\n  }\n\n  // Fallback: use first few words if no location found\n  const words = prompt.trim().split(/\\s+/).slice(0, 3);\n  return words.join(' ') || 'New Trip';\n};\n\n// Generate a destination image URL based on location\nexport const getDestinationImage = location => {\n  // Map common locations to Unsplash image URLs\n  const imageMap = {\n    'tokyo': 'https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=800&h=400&fit=crop',\n    'japan': 'https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=800&h=400&fit=crop',\n    'paris': 'https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=800&h=400&fit=crop',\n    'france': 'https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=800&h=400&fit=crop',\n    'london': 'https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=800&h=400&fit=crop',\n    'new york': 'https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?w=800&h=400&fit=crop',\n    'bali': 'https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=800&h=400&fit=crop',\n    'dubai': 'https://images.unsplash.com/photo-1483729558449-99ef09a8c325?w=800&h=400&fit=crop',\n    'sydney': 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=400&fit=crop'\n  };\n  const locationLower = location.toLowerCase();\n  for (const [key, imageUrl] of Object.entries(imageMap)) {\n    if (locationLower.includes(key)) {\n      return imageUrl;\n    }\n  }\n\n  // Default travel image\n  return 'https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=800&h=400&fit=crop';\n};\n\n// Save trip to localStorage\nexport const saveTripToLocalStorage = trip => {\n  try {\n    const trips = getTripsFromLocalStorage();\n    // Check if trip with same ID already exists\n    const existingIndex = trips.findIndex(t => t.id === trip.id);\n    if (existingIndex >= 0) {\n      trips[existingIndex] = trip; // Update existing\n    } else {\n      trips.unshift(trip); // Add new trip at the beginning\n    }\n    localStorage.setItem('userTrips', JSON.stringify(trips));\n    return true;\n  } catch (error) {\n    console.error('Error saving trip to localStorage:', error);\n    return false;\n  }\n};\n\n// Get trips from localStorage\nexport const getTripsFromLocalStorage = () => {\n  try {\n    const tripsJson = localStorage.getItem('userTrips');\n    return tripsJson ? JSON.parse(tripsJson) : [];\n  } catch (error) {\n    console.error('Error reading trips from localStorage:', error);\n    return [];\n  }\n};\n\n// Create a trip object from prompt and tripId\nexport const createTripFromPrompt = (prompt, tripId, userId = 'Kartik7') => {\n  const location = extractLocation(prompt);\n  const title = `${location} Trip`;\n  return {\n    id: tripId,\n    title: title,\n    destination: location,\n    prompt: prompt,\n    userId: userId,\n    image: getDestinationImage(location),\n    date: new Date().toISOString().split('T')[0],\n    // Today's date in YYYY-MM-DD format\n    status: 'Planning',\n    createdAt: new Date().toISOString()\n  };\n};","map":{"version":3,"names":["locationKeywords","extractLocation","prompt","lowerPrompt","toLowerCase","keyword","includes","split","map","word","charAt","toUpperCase","slice","join","patterns","pattern","matches","match","length","location","replace","trim","words","getDestinationImage","imageMap","locationLower","key","imageUrl","Object","entries","saveTripToLocalStorage","trip","trips","getTripsFromLocalStorage","existingIndex","findIndex","t","id","unshift","localStorage","setItem","JSON","stringify","error","console","tripsJson","getItem","parse","createTripFromPrompt","tripId","userId","title","destination","image","date","Date","toISOString","status","createdAt"],"sources":["C:/Users/Admin/OneDrive/Desktop/Princeton/src/utils/tripUtils.js"],"sourcesContent":["// Utility functions for trip management\r\n\r\n// Common location keywords to extract from prompts\r\nconst locationKeywords = [\r\n  'tokyo', 'japan', 'paris', 'france', 'london', 'uk', 'england', 'new york', 'nyc',\r\n  'bali', 'indonesia', 'sydney', 'australia', 'dubai', 'uae', 'singapore', 'bangkok',\r\n  'thailand', 'seoul', 'korea', 'hong kong', 'beijing', 'china', 'rome', 'italy',\r\n  'barcelona', 'spain', 'amsterdam', 'netherlands', 'berlin', 'germany', 'vienna',\r\n  'austria', 'prague', 'czech', 'istanbul', 'turkey', 'cairo', 'egypt', 'mumbai',\r\n  'india', 'rio', 'brazil', 'cape town', 'south africa', 'maldives', 'hawaii',\r\n  'santorini', 'greece', 'iceland', 'switzerland', 'norway', 'morocco', 'phuket',\r\n  'lisbon', 'portugal', 'kyoto', 'budapest', 'hungary', 'edinburgh', 'scotland',\r\n  'stockholm', 'sweden', 'copenhagen', 'denmark', 'new zealand', 'machu picchu',\r\n  'peru', 'mexico', 'canada', 'vancouver', 'toronto', 'montreal'\r\n];\r\n\r\n// Extract location from prompt text\r\nexport const extractLocation = (prompt) => {\r\n  if (!prompt) return 'Unknown Destination';\r\n  \r\n  const lowerPrompt = prompt.toLowerCase();\r\n  \r\n  // Try to find location keywords\r\n  for (const keyword of locationKeywords) {\r\n    if (lowerPrompt.includes(keyword)) {\r\n      // Capitalize first letter of each word\r\n      return keyword.split(' ').map(word => \r\n        word.charAt(0).toUpperCase() + word.slice(1)\r\n      ).join(' ');\r\n    }\r\n  }\r\n  \r\n  // Try to extract location from common patterns\r\n  const patterns = [\r\n    /(?:to|in|visit|travel to|going to|planning.*?to)\\s+([A-Z][a-z]+(?:\\s+[A-Z][a-z]+)*)/gi,\r\n    /([A-Z][a-z]+(?:\\s+[A-Z][a-z]+)*),?\\s+(?:Japan|France|USA|UK|Italy|Spain|Germany|etc\\.?)/gi,\r\n  ];\r\n  \r\n  for (const pattern of patterns) {\r\n    const matches = prompt.match(pattern);\r\n    if (matches && matches.length > 0) {\r\n      const location = matches[0].replace(/(?:to|in|visit|travel to|going to|planning.*?to)\\s+/gi, '').trim();\r\n      if (location.length > 2 && location.length < 50) {\r\n        return location;\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Fallback: use first few words if no location found\r\n  const words = prompt.trim().split(/\\s+/).slice(0, 3);\r\n  return words.join(' ') || 'New Trip';\r\n};\r\n\r\n// Generate a destination image URL based on location\r\nexport const getDestinationImage = (location) => {\r\n  // Map common locations to Unsplash image URLs\r\n  const imageMap = {\r\n    'tokyo': 'https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=800&h=400&fit=crop',\r\n    'japan': 'https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=800&h=400&fit=crop',\r\n    'paris': 'https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=800&h=400&fit=crop',\r\n    'france': 'https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=800&h=400&fit=crop',\r\n    'london': 'https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=800&h=400&fit=crop',\r\n    'new york': 'https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?w=800&h=400&fit=crop',\r\n    'bali': 'https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=800&h=400&fit=crop',\r\n    'dubai': 'https://images.unsplash.com/photo-1483729558449-99ef09a8c325?w=800&h=400&fit=crop',\r\n    'sydney': 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=400&fit=crop',\r\n  };\r\n  \r\n  const locationLower = location.toLowerCase();\r\n  for (const [key, imageUrl] of Object.entries(imageMap)) {\r\n    if (locationLower.includes(key)) {\r\n      return imageUrl;\r\n    }\r\n  }\r\n  \r\n  // Default travel image\r\n  return 'https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=800&h=400&fit=crop';\r\n};\r\n\r\n// Save trip to localStorage\r\nexport const saveTripToLocalStorage = (trip) => {\r\n  try {\r\n    const trips = getTripsFromLocalStorage();\r\n    // Check if trip with same ID already exists\r\n    const existingIndex = trips.findIndex(t => t.id === trip.id);\r\n    if (existingIndex >= 0) {\r\n      trips[existingIndex] = trip; // Update existing\r\n    } else {\r\n      trips.unshift(trip); // Add new trip at the beginning\r\n    }\r\n    localStorage.setItem('userTrips', JSON.stringify(trips));\r\n    return true;\r\n  } catch (error) {\r\n    console.error('Error saving trip to localStorage:', error);\r\n    return false;\r\n  }\r\n};\r\n\r\n// Get trips from localStorage\r\nexport const getTripsFromLocalStorage = () => {\r\n  try {\r\n    const tripsJson = localStorage.getItem('userTrips');\r\n    return tripsJson ? JSON.parse(tripsJson) : [];\r\n  } catch (error) {\r\n    console.error('Error reading trips from localStorage:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n// Create a trip object from prompt and tripId\r\nexport const createTripFromPrompt = (prompt, tripId, userId = 'Kartik7') => {\r\n  const location = extractLocation(prompt);\r\n  const title = `${location} Trip`;\r\n  \r\n  return {\r\n    id: tripId,\r\n    title: title,\r\n    destination: location,\r\n    prompt: prompt,\r\n    userId: userId,\r\n    image: getDestinationImage(location),\r\n    date: new Date().toISOString().split('T')[0], // Today's date in YYYY-MM-DD format\r\n    status: 'Planning',\r\n    createdAt: new Date().toISOString()\r\n  };\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}